import{P as X}from"./ProductService-BtITuo-x.js";import{l as Z,z as ee,r as d,a as u,o as g,c as b,b as o,d as a,w as i,g as w,t as I,q as C,x as le}from"./index-CBlg39YZ.js";const te={class:"card"},ae={class:"flex flex-wrap gap-2 items-center justify-between"},oe=["src","alt"],ne={class:"flex flex-col gap-6"},se=["src","alt"],ie={key:0,class:"text-red-500"},ue={class:"grid grid-cols-12 gap-4"},re={class:"flex items-center gap-2 col-span-6"},de={class:"flex items-center gap-2 col-span-6"},ce={class:"flex items-center gap-2 col-span-6"},ve={class:"flex items-center gap-2 col-span-6"},me={class:"grid grid-cols-12 gap-4"},pe={class:"col-span-6"},fe={class:"col-span-6"},ye={class:"flex items-center gap-4"},ge={key:0},be={class:"flex items-center gap-4"},Se={key:0},Ve={__name:"Crud",setup(xe){Z(()=>{X.getProducts().then(n=>r.value=n)});const S=ee(),P=d(),r=d(),v=d(!1),p=d(!1),f=d(!1),l=d({}),m=d(),k=d({global:{value:null,matchMode:le.CONTAINS}}),y=d(!1),N=d([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]);function _(n){if(n)return n.toLocaleString("en-US",{style:"currency",currency:"USD"})}function O(){l.value={},y.value=!1,v.value=!0}function L(){v.value=!1,y.value=!1}function M(){var n;y.value=!0,(n=l==null?void 0:l.value.name)!=null&&n.trim()&&(l.value.id?(l.value.inventoryStatus=l.value.inventoryStatus.value?l.value.inventoryStatus.value:l.value.inventoryStatus,r.value[F(l.value.id)]=l.value,S.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(l.value.id=T(),l.value.code=T(),l.value.image="product-placeholder.svg",l.value.inventoryStatus=l.value.inventoryStatus?l.value.inventoryStatus.value:"INSTOCK",r.value.push(l.value),S.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),v.value=!1,l.value={})}function R(n){l.value={...n},v.value=!0}function q(n){l.value=n,p.value=!0}function B(){r.value=r.value.filter(n=>n.id!==l.value.id),p.value=!1,l.value={},S.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}function F(n){let e=-1;for(let s=0;s<r.value.length;s++)if(r.value[s].id===n){e=s;break}return e}function T(){let n="";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<5;s++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function K(){P.value.exportCSV()}function h(){f.value=!0}function A(){r.value=r.value.filter(n=>!m.value.includes(n)),f.value=!1,m.value=null,S.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}function $(n){switch(n){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return null}}return(n,e)=>{const s=u("Button"),E=u("Toolbar"),W=u("InputIcon"),U=u("InputText"),Y=u("IconField"),c=u("Column"),j=u("Rating"),z=u("Tag"),Q=u("DataTable"),G=u("Textarea"),H=u("Select"),x=u("RadioButton"),D=u("InputNumber"),V=u("Dialog");return g(),b("div",null,[o("div",te,[a(E,{class:"mb-6"},{start:i(()=>[a(s,{label:"New",icon:"pi pi-plus",severity:"secondary",class:"mr-2",onClick:O}),a(s,{label:"Delete",icon:"pi pi-trash",severity:"secondary",onClick:h,disabled:!m.value||!m.value.length},null,8,["disabled"])]),end:i(()=>[a(s,{label:"Export",icon:"pi pi-upload",severity:"secondary",onClick:e[0]||(e[0]=t=>K(t))})]),_:1}),a(Q,{ref_key:"dt",ref:P,selection:m.value,"onUpdate:selection":e[2]||(e[2]=t=>m.value=t),value:r.value,dataKey:"id",paginator:!0,rows:10,filters:k.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},{header:i(()=>[o("div",ae,[e[18]||(e[18]=o("h4",{class:"m-0"},"Manage Products",-1)),a(Y,null,{default:i(()=>[a(W,null,{default:i(()=>e[17]||(e[17]=[o("i",{class:"pi pi-search"},null,-1)])),_:1}),a(U,{modelValue:k.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=t=>k.value.global.value=t),placeholder:"Search..."},null,8,["modelValue"])]),_:1})])]),default:i(()=>[a(c,{selectionMode:"multiple",style:{width:"3rem"},exportable:!1}),a(c,{field:"code",header:"Code",sortable:"",style:{"min-width":"12rem"}}),a(c,{field:"name",header:"Name",sortable:"",style:{"min-width":"16rem"}}),a(c,{header:"Image"},{body:i(t=>[o("img",{src:`https://primefaces.org/cdn/primevue/images/product/${t.data.image}`,alt:t.data.image,class:"rounded",style:{width:"64px"}},null,8,oe)]),_:1}),a(c,{field:"price",header:"Price",sortable:"",style:{"min-width":"8rem"}},{body:i(t=>[w(I(_(t.data.price)),1)]),_:1}),a(c,{field:"category",header:"Category",sortable:"",style:{"min-width":"10rem"}}),a(c,{field:"rating",header:"Reviews",sortable:"",style:{"min-width":"12rem"}},{body:i(t=>[a(j,{modelValue:t.data.rating,readonly:!0},null,8,["modelValue"])]),_:1}),a(c,{field:"inventoryStatus",header:"Status",sortable:"",style:{"min-width":"12rem"}},{body:i(t=>[a(z,{value:t.data.inventoryStatus,severity:$(t.data.inventoryStatus)},null,8,["value","severity"])]),_:1}),a(c,{exportable:!1,style:{"min-width":"12rem"}},{body:i(t=>[a(s,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:J=>R(t.data)},null,8,["onClick"]),a(s,{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:J=>q(t.data)},null,8,["onClick"])]),_:1})]),_:1},8,["selection","value","filters"])]),a(V,{visible:v.value,"onUpdate:visible":e[12]||(e[12]=t=>v.value=t),style:{width:"450px"},header:"Product Details",modal:!0},{footer:i(()=>[a(s,{label:"Cancel",icon:"pi pi-times",text:"",onClick:L}),a(s,{label:"Save",icon:"pi pi-check",onClick:M})]),default:i(()=>[o("div",ne,[l.value.image?(g(),b("img",{key:0,src:`https://primefaces.org/cdn/primevue/images/product/${l.value.image}`,alt:l.value.image,class:"block m-auto pb-4"},null,8,se)):C("",!0),o("div",null,[e[19]||(e[19]=o("label",{for:"name",class:"block font-bold mb-3"},"Name",-1)),a(U,{id:"name",modelValue:l.value.name,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.name=t),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:y.value&&!l.value.name,fluid:""},null,8,["modelValue","invalid"]),y.value&&!l.value.name?(g(),b("small",ie,"Name is required.")):C("",!0)]),o("div",null,[e[20]||(e[20]=o("label",{for:"description",class:"block font-bold mb-3"},"Description",-1)),a(G,{id:"description",modelValue:l.value.description,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.description=t),required:"true",rows:"3",cols:"20",fluid:""},null,8,["modelValue"])]),o("div",null,[e[21]||(e[21]=o("label",{for:"inventoryStatus",class:"block font-bold mb-3"},"Inventory Status",-1)),a(H,{id:"inventoryStatus",modelValue:l.value.inventoryStatus,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.inventoryStatus=t),options:N.value,optionLabel:"label",placeholder:"Select a Status",fluid:""},null,8,["modelValue","options"])]),o("div",null,[e[26]||(e[26]=o("span",{class:"block font-bold mb-4"},"Category",-1)),o("div",ue,[o("div",re,[a(x,{id:"category1",modelValue:l.value.category,"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.category=t),name:"category",value:"Accessories"},null,8,["modelValue"]),e[22]||(e[22]=o("label",{for:"category1"},"Accessories",-1))]),o("div",de,[a(x,{id:"category2",modelValue:l.value.category,"onUpdate:modelValue":e[7]||(e[7]=t=>l.value.category=t),name:"category",value:"Clothing"},null,8,["modelValue"]),e[23]||(e[23]=o("label",{for:"category2"},"Clothing",-1))]),o("div",ce,[a(x,{id:"category3",modelValue:l.value.category,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.category=t),name:"category",value:"Electronics"},null,8,["modelValue"]),e[24]||(e[24]=o("label",{for:"category3"},"Electronics",-1))]),o("div",ve,[a(x,{id:"category4",modelValue:l.value.category,"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.category=t),name:"category",value:"Fitness"},null,8,["modelValue"]),e[25]||(e[25]=o("label",{for:"category4"},"Fitness",-1))])])]),o("div",me,[o("div",pe,[e[27]||(e[27]=o("label",{for:"price",class:"block font-bold mb-3"},"Price",-1)),a(D,{id:"price",modelValue:l.value.price,"onUpdate:modelValue":e[10]||(e[10]=t=>l.value.price=t),mode:"currency",currency:"USD",locale:"en-US",fluid:""},null,8,["modelValue"])]),o("div",fe,[e[28]||(e[28]=o("label",{for:"quantity",class:"block font-bold mb-3"},"Quantity",-1)),a(D,{id:"quantity",modelValue:l.value.quantity,"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.quantity=t),integeronly:"",fluid:""},null,8,["modelValue"])])])])]),_:1},8,["visible"]),a(V,{visible:p.value,"onUpdate:visible":e[14]||(e[14]=t=>p.value=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:i(()=>[a(s,{label:"No",icon:"pi pi-times",text:"",onClick:e[13]||(e[13]=t=>p.value=!1)}),a(s,{label:"Yes",icon:"pi pi-check",onClick:B})]),default:i(()=>[o("div",ye,[e[31]||(e[31]=o("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),l.value?(g(),b("span",ge,[e[29]||(e[29]=w("Are you sure you want to delete ")),o("b",null,I(l.value.name),1),e[30]||(e[30]=w("?"))])):C("",!0)])]),_:1},8,["visible"]),a(V,{visible:f.value,"onUpdate:visible":e[16]||(e[16]=t=>f.value=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:i(()=>[a(s,{label:"No",icon:"pi pi-times",text:"",onClick:e[15]||(e[15]=t=>f.value=!1)}),a(s,{label:"Yes",icon:"pi pi-check",text:"",onClick:A})]),default:i(()=>[o("div",be,[e[32]||(e[32]=o("i",{class:"pi pi-exclamation-triangle !text-3xl"},null,-1)),l.value?(g(),b("span",Se,"Are you sure you want to delete the selected products?")):C("",!0)])]),_:1},8,["visible"])])}}};export{Ve as default};
